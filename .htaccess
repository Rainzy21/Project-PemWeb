# Redirect semua request ke folder public
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /Project-PemWeb/
    
    # Jika request adalah file yang ada, langsung akses
    RewriteCond %{REQUEST_FILENAME} -f
    RewriteRule ^ - [L]
    
    # Jika request adalah folder yang ada, langsung akses
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]
    
    # Bypass folder storage - langsung serve file
    RewriteRule ^storage/(.*)$ storage/$1 [L]
    
    # Arahkan semua request lainnya ke public/index.php
    RewriteRule ^(.*)$ public/index.php?url=$1 [QSA,L]
</IfModule>

# Mencegah akses langsung ke file sensitif
<FilesMatch "\.(env|log|ini|sql)$">
    Order Allow,Deny
    Deny from all
</FilesMatch>

# Mencegah browsing direktori
Options -Indexes